import{store as e,getContext as t,getElement as o,getConfig as n}from"@wordpress/interactivity";const{Events:c,Selector:s}=window.wecodeart||{};void 0!==c&&void 0!==s||console.warn("WeCodeArt's Tabs require WeCodeArt's Events & Selector plugins.");let a=[];e("wecodeart/tabs",{callbacks:{onTabChange(){const{ref:e}=o(),s=t(),{classNames:r}=n("wecodeart/collapse"),l=a.filter((({parent:t})=>t===e));s.isOpened=l.find((({context:{isOpen:e}})=>e))?.content,l.forEach((({content:e})=>c.on(e,"show.wp.collapse",(({currentTarget:e})=>{s.isOpened=e,e.classList.add(r?.show),l.filter((({content:t,context:{isOpen:o}})=>o&&t!==e)).map((({toggle:e})=>e.click()))})))),l.forEach((({content:e})=>c.on(e,"hide.wp.collapse",(t=>{t.target===e&&s.isOpened===e&&t.preventDefault()}))))},addElement(){const{ref:e}=o();a=[...a,{context:t("wecodeart/collapse"),parent:e.closest(".wp-block-wecodeart-tabs"),toggle:e,content:s.findOne(`#${e.getAttribute("aria-controls")}`)}]}}});